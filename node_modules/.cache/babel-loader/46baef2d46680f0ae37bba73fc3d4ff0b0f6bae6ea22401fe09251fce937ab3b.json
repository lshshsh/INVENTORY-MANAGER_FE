{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\uC774\\uC218\\uD601\\\\Desktop\\\\\\uD300\\uD5042\\\\src\\\\INVENTORY-MANAGER_FE\\\\src\\\\pages\\\\Login.js\",\n  _s = $RefreshSig$();\nimport { useRef } from \"react\";\nimport axios from \"axios\";\nimport { useNavigate } from \"react-router-dom\";\nimport \"./Login.module.scss\";\nimport React from \"react\";\nimport styles from \"./Box.module.css\";\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const idRef = useRef();\n  const pwRef = useRef();\n  const navigate = useNavigate();\n  const handleLogin = e => {\n    e.preventDefault();\n    if (idRef.current.value === \"\" || idRef.current.value === undefined) {\n      //id값 비었을 시\n      alert(\"아이디를 입력하세요\");\n      idRef.current.focus();\n      return false;\n    }\n    if (pwRef.current.value === \"\" || pwRef.current.value === undefined) {\n      //pw값 비었을 시\n      alert(\"패스워드를 입력하세요\");\n      pwRef.current.focus();\n      return false;\n    }\n    console.log(\"LoginForm:window.sessionStorage(login_id) =>\", window.sessionStorage.getItem(\"id\"));\n    axios.post(\"http://www.stock-manage-api.p-e.kr/login\", {\n      id: idRef.current.value,\n      password: pwRef.current.value\n    }).then(res => {\n      console.log(\"handleLogin =>\", res);\n      if (res.data.code === 200) {\n        window.sessionStorage.setItem(\"id\", idRef.current.value); // 세션스토리지에 key : id , value : idRef.current.value로 저장\n        // sessionsStorage는 창 닫으면 사라짐, localStorage는 안사라짐\n        navigate(\"/MainPage\", true);\n      } else {\n        alert(\"아이디, 패스워드가 정확하지 않습니다.\");\n        idRef.current.value = \"\";\n        pwRef.current.value = \"\";\n        navigate(\"/\");\n      }\n    }).catch(e => {\n      console.error(e);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Welcome\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.formControl,\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\uC544\\uC774\\uB514\",\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-control\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          required: true,\n          placeholder: \"\\uBE44\\uBC00\\uBC88\\uD638\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn\",\n        children: \"\\uB85C\\uADF8\\uC778\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text\",\n        children: [\"\\uD68C\\uC6D0\\uC774 \\uC544\\uB2C8\\uC2E0\\uAC00\\uC694? \", /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"register.html\",\n          children: \"\\uD68C\\uC6D0\\uAC00\\uC785\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 48\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"uE3X5if0GHXkkMVF+RFxXdUOVb4=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useRef","axios","useNavigate","React","styles","Link","Login","idRef","pwRef","navigate","handleLogin","e","preventDefault","current","value","undefined","alert","focus","console","log","window","sessionStorage","getItem","post","id","password","then","res","data","code","setItem","catch","error","formControl"],"sources":["C:/Users/이수혁/Desktop/팀프2/src/INVENTORY-MANAGER_FE/src/pages/Login.js"],"sourcesContent":["import { useRef } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport \"./Login.module.scss\";\r\nimport React from \"react\";\r\nimport styles from \"./Box.module.css\";\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Login = () => {\r\n    const idRef = useRef();\r\n    const pwRef = useRef();\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const handleLogin = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (idRef.current.value === \"\" || idRef.current.value === undefined) {  //id값 비었을 시\r\n            alert(\"아이디를 입력하세요\");\r\n            idRef.current.focus();\r\n            return false;\r\n        }\r\n        if (pwRef.current.value === \"\" || pwRef.current.value === undefined) {  //pw값 비었을 시\r\n            alert(\"패스워드를 입력하세요\");\r\n            pwRef.current.focus();\r\n            return false;\r\n        }\r\n\r\n        console.log(\r\n            \"LoginForm:window.sessionStorage(login_id) =>\",\r\n            window.sessionStorage.getItem(\"id\")\r\n        );\r\n\r\n        axios\r\n            .post(\"http://www.stock-manage-api.p-e.kr/login\", {\r\n                id: idRef.current.value,\r\n                password: pwRef.current.value,\r\n            })\r\n            .then((res) => {\r\n                console.log(\"handleLogin =>\", res);\r\n                if (res.data.code === 200) {\r\n                    window.sessionStorage.setItem(\"id\", idRef.current.value); // 세션스토리지에 key : id , value : idRef.current.value로 저장\r\n                    // sessionsStorage는 창 닫으면 사라짐, localStorage는 안사라짐\r\n                    navigate(\"/MainPage\", true);\r\n                } else {\r\n                    alert(\"아이디, 패스워드가 정확하지 않습니다.\");\r\n                    idRef.current.value = \"\";\r\n                    pwRef.current.value = \"\";\r\n                    navigate(\"/\");\r\n                }\r\n            })\r\n            .catch((e) => {\r\n                console.error(e);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <h1>Welcome</h1>\r\n            <form>\r\n                <div className={styles.formControl}>\r\n                    <input type=\"text\" placeholder=\"아이디\" required />\r\n                </div>\r\n\r\n                <div className=\"form-control\">\r\n                    <input type=\"password\" required placeholder=\"비밀번호\" />\r\n\r\n                </div>\r\n\r\n                <button className=\"btn\">로그인</button>\r\n\r\n                <p className=\"text\">회원이 아니신가요? <a href=\"register.html\">회원가입</a></p>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}